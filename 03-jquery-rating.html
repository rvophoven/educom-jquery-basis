<!DOCTYPE html>
<html lang="en">
  <head>   
    <link rel="stylesheet" href="css/style.css"/>
    <script src="js/jquery.js"></script>
    <script>
    
      $(document).ready(function() {
        $(".star").click(function() {
          const value_ = $(this).attr('data-value')

          console.log(`Value: ${value_}`)

          /// clear stars
          $('.star').removeClass("red_")

          /// make stars red
          $('.star').each((index,elem) =>{
            const itemValue = $(elem).attr('data-value')
            if(itemValue <= value_){
            $(elem).addClass('red_')
          }
          })
          /// send rating to server
          $.ajax({
            url: "https://api.dev-master.ninja/js/rating",
            method: "POST",
            data: {rating: value_}, /// data value clicked star
            success: function(result){
              /// successful send
              console.log("Value send")
              /// display average data send back from server
              console.log(result.result)
            }
          })
          
        })
      })

       
    </script>
  </head>
  <body>

    <span class="star" data-value="1">*</span>
    <span class="star" data-value="2">*</span>
    <span class="star" data-value="3">*</span>
    <span class="star" data-value="4">*</span>
    <span class="star" data-value="5">*</span>
  
  </body>
</html>